# Configuration de l'environnement pour RegisFlow - PRODUCTION
# Copiez ce fichier en .env et modifiez les valeurs OBLIGATOIRES pour la production

# ==========================================
# CONFIGURATION POSTGRESQL (SÉCURISÉE)
# ==========================================
# OBLIGATOIRE: Changez ce mot de passe pour la production
POSTGRES_PASSWORD=CHANGEZ_MOI_EN_PRODUCTION_2024!

# Configuration automatique PostgreSQL :
# - Container: regisflow-db
# - Utilisateur: regisflow
# - Base de données: regisflow  
# - Port interne: 5432 (communication Docker)
# - Port externe: 5433 (accès depuis l'hôte)

# ==========================================
# CONFIGURATION APPLICATION
# ==========================================
NODE_ENV=production
PORT=5000

# OBLIGATOIRE: Générez une clé secrète forte pour les sessions
# Exemple: openssl rand -base64 32
SESSION_SECRET=CHANGEZ_MOI_GENERER_UNE_CLE_SECRETE_FORTE

# ==========================================
# CONFIGURATION SYSTÈME
# ==========================================
# Timezone pour les logs et planifications
TZ=Europe/Paris

# Configuration des sauvegardes automatiques
BACKUP_RETENTION_DAYS=90
MAX_BACKUP_COUNT=20

# Configuration de la purge automatique (19 mois réglementaire)
DATA_RETENTION_MONTHS=19

# ==========================================
# SÉCURITÉ PRODUCTION
# ==========================================
# Activer les cookies sécurisés (nécessite HTTPS)
SECURE_COOKIES=true

# Domaine autorisé pour l'application (optionnel)
# ALLOWED_DOMAIN=votre-domaine.com

# ==========================================
# INSTRUCTIONS IMPORTANTES
# ==========================================
# 1. CHANGEZ OBLIGATOIREMENT :
#    - POSTGRES_PASSWORD
#    - SESSION_SECRET
# 
# 2. Pour générer SESSION_SECRET :
#    openssl rand -base64 32
#
# 3. Pour HTTPS en production :
#    - Configurez un reverse proxy (Nginx/Apache)
#    - Obtenez un certificat SSL (Let's Encrypt)
#    - Activez SECURE_COOKIES=true
#
# 4. Application accessible sur :
#    - RegisFlow: http://localhost:5000
#    - PostgreSQL: localhost:5433